#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Block push if tests or sonar fail locally
npm run test || exit 1
npm run test:coverage || exit 1

# Optional: fail if coverage file missing
[ -f coverage/lcov.info ] || {
  echo "coverage/lcov.info not found; run tests with coverage" >&2
  exit 1
}
